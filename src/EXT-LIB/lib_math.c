/*
*********************************************************************************************************
*                                                 MODULE
*
* Note(s) : 数学函数扩展库
*********************************************************************************************************
*/

/*
*********************************************************************************************************
*                                             INCLUDE FILES
*********************************************************************************************************
*/
#include "lib_math.h"


/*
*********************************************************************************************************
* Description: 最大最小值
*
* Arguments  : none.
* 
* Return     : 
*********************************************************************************************************
*/

s16 math_imin(s16 a, s16 b)
{
    return a < b ? a : b;
}

u16 math_uimin(u16 a, u16 b)
{
    return a < b ? a : b;
}

s16 math_imax(s16 a, s16 b)
{
    return a > b ? a : b;
}

u16 math_uimax(u16 a, u16 b)
{
    return a > b ? a : b;
}

/*
*********************************************************************************************************
* Description: 汉明重量（Hamming Weight）计算一个二进制数中1的个数
*
* Arguments  : n
* 
* Return     : 二进制数中1的个数
*********************************************************************************************************
*/
u8 math_hamming(byte n)
{
    n = (n & 0x55) + ((n >> 1) & 0x55);
    n = (n & 0x33) + ((n >> 2) & 0x33);
    n = (n & 0x0f) + ((n >> 4) & 0x0f);

    return n;
}

/*
*********************************************************************************************************
* Description: 位颠倒
*
* Arguments  : x
* 
* Return     : 翻转后的二进制。eg：10110010 -> 01001101
*********************************************************************************************************
*/
byte math_reverse(byte x)
{
    x = (((x & 0xAA) >> 1) | ((x & 0x55) << 1));
    x = (((x & 0xCC) >> 2) | ((x & 0x33) << 2));

    return ((x >> 4) | (x << 4));
}

/***********************************************END*****************************************************/
